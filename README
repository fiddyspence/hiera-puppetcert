This is a Hiera backend designed to use the SSL certs generated by Puppet.

Coming soon to a git repo near you - a Puppet face to encrypt the data for you


Example hiera.yaml for your delight and pleasure - note, you really only need to specify a full path to a pubkey and a privkey.  You only need a pubkey if you're going to encrypt, and you only need a privkey if you're going to decrypt (and they need to match of course):

---
:backends: - puppetcert

:logger: console

:hierarchy: - %{env}
            - common

:puppetcert:
   :ssldir: /etc/puppetlabs/puppet/ssl     (this is the default setting)
   :pubkeys: public_keys                   (this is the default setting)
   :privkeys: private_keys                 (this is the default setting)
   :pubkey: puppet.spence.org.uk.local.pem   (defaults to ENV['HOSTNAME'].pem - note, this can be the full path to a cert)
   :privkey: puppet.spence.org.uk.local.pem   (defaults to ENV['HOSTNAME'].pem - note, this can be the full path to a cert)
   :datadir: /etc/puppetlabs/hieradata




